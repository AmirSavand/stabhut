(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{lRx4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("H+bZ"),a=n("2Vo4"),r=n("fXoL");let o=(()=>{class t{constructor(t){this.api=t}static get currentOrganization(){return t.organizationSubject.getValue()}static set currentOrganization(e){t.projectsSubject.next(null),t.labelsSubject.next(null),t.usersSubject.next(null),t.organizationSubject.next(e)}static get isInitialised(){return Boolean(t.usersSubject.value&&t.labelsSubject.value&&t.projectsSubject.value)}initialise(){this.api.getProjects(t.currentOrganization.id).subscribe(e=>{t.projectsSubject.next(e)}),this.api.getLabels(t.currentOrganization.id).subscribe(e=>{t.labelsSubject.next(e)}),this.api.getUsers().subscribe(e=>{t.usersSubject.next(e.results)})}}return t.organizationSubject=new a.a(null),t.projectsSubject=new a.a(null),t.labelsSubject=new a.a(null),t.usersSubject=new a.a(null),t.organization=t.organizationSubject.asObservable(),t.projects=t.projectsSubject.asObservable(),t.labels=t.labelsSubject.asObservable(),t.users=t.usersSubject.asObservable(),t.\u0275fac=function(e){return new(e||t)(r.Tb(i.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},pHPU:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),o=n("6NWb"),s=n("lRx4"),l=n("H+bZ"),u=n("fXoL");let c=(()=>{class t{constructor(t,e,n,i){this.api=t,this.organizationService=e,this.router=n,this.route=i}ngOnInit(){this.loadOrganization(),this.router.events.subscribe(t=>{t instanceof r.b&&this.loadOrganization()})}loadOrganization(){const t=Number(location.pathname.split("/organization/")[1].split("/")[0]);t&&(!this.organization||this.organization&&this.organization.id!==t)&&this.api.getOrganization(t).subscribe(t=>{this.organization=t,s.a.currentOrganization=this.organization,this.organizationService.initialise()})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(l.a),u.Mb(s.a),u.Mb(r.c),u.Mb(r.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-organization"]],decls:2,vars:0,consts:[[1,"h-100"]],template:function(t,e){1&t&&(u.Pb(0,"div",0),u.Nb(1,"router-outlet"),u.Ob())},directives:[r.f],styles:[""]}),t})();n.d(e,"OrganizationModule",(function(){return h}));const b=[{path:"",component:c,children:[{path:"home",loadChildren:()=>n.e(8).then(n.bind(null,"NpQC")).then(t=>t.HomeModule)},{path:"new",loadChildren:()=>n.e(9).then(n.bind(null,"HXnU")).then(t=>t.NewModule)},{path:":id/card/:card",loadChildren:()=>Promise.all([n.e(1),n.e(6)]).then(n.bind(null,"5c0e")).then(t=>t.CardModule)},{path:":id/settings",loadChildren:()=>n.e(11).then(n.bind(null,"nocz")).then(t=>t.SettingsModule)},{path:":id",loadChildren:()=>Promise.all([n.e(1),n.e(10)]).then(n.bind(null,"Mjgs")).then(t=>t.ProjectModule)},{path:"**",redirectTo:"home",pathMatch:"full"}]}];let h=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[i.c,r.e.forChild(b),o.b,a.h]]}),t})()}}]);