function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{nocz:function(e,t,n){"use strict";n.r(t);var r,c,i=n("ofXK"),o=n("3Pt+"),a=n("tyNb"),b=n("6NWb"),l=n("fXoL"),u=((r=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:r}),r.\u0275inj=l.Jb({factory:function(e){return new(e||r)},imports:[[i.c,o.h,o.q,b.b]]}),r),s=n("H+bZ"),f=((c=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.margin=!0,this.button=!0,this.save=new l.n}return _createClass(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({name:["",o.t.required]})}},{key:"onSubmit",value:function(){this.save.emit(this.form.controls.name.value),this.form.patchValue({name:""})}}]),e}()).\u0275fac=function(e){return new(e||c)(l.Mb(o.c))},c.\u0275cmp=l.Gb({type:c,selectors:[["app-form-add"]],inputs:{name:"name",margin:"margin",button:"button"},outputs:{save:"save"},decls:5,vars:6,consts:[[1,"form-group","input-group",3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"form-control",3,"placeholder","id"],[1,"input-group-append"],[1,"btn","btn-primary",3,"disabled"],["icon","plus"]],template:function(e,t){1&e&&(l.Pb(0,"form",0),l.Xb("ngSubmit",(function(){return t.onSubmit()})),l.Nb(1,"input",1),l.Pb(2,"div",2),l.Pb(3,"button",3),l.Nb(4,"fa-icon",4),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.Eb("mb-0",!t.margin),l.fc("formGroup",t.form),l.Ab(1),l.hc("placeholder","New ",t.name,""),l.fc("id",t.name),l.Ab(2),l.fc("disabled",t.form.invalid))},directives:[o.v,o.m,o.g,o.b,o.l,o.f,b.a],encapsulation:2}),c),d=function(e){return["../../../",e]};function p(e,t){if(1&e&&(l.Pb(0,"div",2),l.Pb(1,"div",3),l.Pb(2,"div",4),l.Pb(3,"div",5),l.Pb(4,"b"),l.zc(5),l.Ob(),l.zc(6," created by "),l.Pb(7,"b"),l.zc(8),l.Ob(),l.Pb(9,"a",6),l.Nb(10,"fa-icon",7),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e){var n=l.Zb();l.Ab(5),l.Ac(n.organization.name),l.Ab(3),l.Ac(n.organization.user.username),l.Ab(1),l.fc("routerLink",l.jc(3,d,n.organization.id))}}function m(e,t){if(1&e){var n=l.Qb();l.Pb(0,"li",19),l.Xb("click",(function(){l.rc(n);var e=t.$implicit,r=l.Zb(3);return r.projectSelected=e,r.labelSelected=null})),l.zc(1),l.Ob()}if(2&e){var r=t.$implicit,c=l.Zb(3);l.Eb("active",c.projectSelected===r),l.Ab(1),l.Bc(" ",r.name," ")}}function v(e,t){if(1&e&&(l.Pb(0,"ul",17),l.xc(1,m,2,3,"li",18),l.Ob()),2&e){var n=l.Zb(2);l.Ab(1),l.fc("ngForOf",n.projects)}}function g(e,t){if(1&e){var n=l.Qb();l.Pb(0,"li",19),l.Xb("click",(function(){l.rc(n);var e=t.$implicit,r=l.Zb(3);return r.labelSelected=e,r.projectSelected=null})),l.zc(1),l.Ob()}if(2&e){var r=t.$implicit,c=l.Zb(3);l.Eb("active",c.labelSelected===r),l.Ab(1),l.Bc(" ",r.name," ")}}function h(e,t){if(1&e&&(l.Pb(0,"ul",17),l.xc(1,g,2,3,"li",18),l.Ob()),2&e){var n=l.Zb(2);l.Ab(1),l.fc("ngForOf",n.labels)}}function y(e,t){if(1&e&&(l.Pb(0,"div",24),l.zc(1),l.Ob()),2&e){var n=l.Zb(3);l.Ab(1),l.Ac(n.projectSelected.name)}}function O(e,t){if(1&e&&(l.Pb(0,"div"),l.zc(1),l.Ob()),2&e){var n=l.Zb(3);l.Ab(1),l.Ac(n.labelSelected.name)}}function P(e,t){if(1&e){var n=l.Qb();l.Pb(0,"ul",25),l.Pb(1,"li",26),l.Pb(2,"div",27),l.Xb("click",(function(){return l.rc(n),l.Zb(3).projectTab="columns"})),l.zc(3," Columns "),l.Ob(),l.Ob(),l.Pb(4,"li",26),l.Pb(5,"div",27),l.Xb("click",(function(){return l.rc(n),l.Zb(3).projectTab="options"})),l.zc(6," Options "),l.Ob(),l.Ob(),l.Ob()}if(2&e){var r=l.Zb(3);l.Ab(2),l.Eb("active","columns"===r.projectTab),l.Ab(3),l.Eb("active","options"===r.projectTab)}}function j(e,t){if(1&e){var n=l.Qb();l.Pb(0,"div",31),l.Pb(1,"input",32),l.Xb("ngModelChange",(function(e){return l.rc(n),t.$implicit.name=e})),l.Ob(),l.Pb(2,"div",33),l.Pb(3,"button",34),l.Xb("click",(function(){l.rc(n);var e=t.$implicit;return l.Zb(4).deleteColumn(e)})),l.Nb(4,"fa-icon",35),l.Ob(),l.Ob(),l.Ob()}if(2&e){var r=t.$implicit;l.Ab(1),l.fc("ngModel",r.name)}}function A(e,t){if(1&e){var n=l.Qb();l.Pb(0,"button",36),l.Xb("click",(function(){return l.rc(n),l.Zb(4).updateColumns()})),l.zc(1," Update "),l.Ob()}}function S(e,t){if(1&e){var n=l.Qb();l.Pb(0,"div",5),l.xc(1,j,5,1,"div",28),l.Pb(2,"app-form-add",29),l.Xb("save",(function(e){return l.rc(n),l.Zb(3).addColumn(e)})),l.Ob(),l.xc(3,A,2,0,"button",30),l.Ob()}if(2&e){var r=l.Zb(3);l.Ab(1),l.fc("ngForOf",r.projectSelected.columns),l.Ab(1),l.fc("margin",r.projectSelected.columns.length>0),l.Ab(1),l.fc("ngIf",r.projectSelected.columns.length)}}function k(e,t){if(1&e){var n=l.Qb();l.Pb(0,"div",5),l.Pb(1,"div",31),l.Pb(2,"input",32),l.Xb("ngModelChange",(function(e){return l.rc(n),l.Zb(3).projectSelected.name=e})),l.Ob(),l.Pb(3,"div",33),l.Pb(4,"button",34),l.Xb("click",(function(){return l.rc(n),l.Zb(3).deleteProject()})),l.Nb(5,"fa-icon",35),l.Ob(),l.Ob(),l.Ob(),l.Pb(6,"button",36),l.Xb("click",(function(){return l.rc(n),l.Zb(3).updateProject()})),l.zc(7," Update "),l.Ob(),l.Ob()}if(2&e){var r=l.Zb(3);l.Ab(2),l.fc("ngModel",r.projectSelected.name)}}function C(e,t){if(1&e){var n=l.Qb();l.Pb(0,"div",5),l.Pb(1,"div",31),l.Pb(2,"input",32),l.Xb("ngModelChange",(function(e){return l.rc(n),l.Zb(3).labelSelected.name=e})),l.Ob(),l.Pb(3,"div",33),l.Pb(4,"button",34),l.Xb("click",(function(){l.rc(n);var e=l.Zb(3);return e.deleteLabel(e.labelSelected)})),l.Nb(5,"fa-icon",35),l.Ob(),l.Ob(),l.Ob(),l.Pb(6,"div",37),l.Pb(7,"input",38),l.Xb("ngModelChange",(function(e){return l.rc(n),l.Zb(3).labelSelected.color=e})),l.Ob(),l.Ob(),l.Pb(8,"button",39),l.Xb("click",(function(){l.rc(n);var e=l.Zb(3);return e.updateLabel(e.labelSelected)})),l.zc(9,"Update"),l.Ob(),l.Ob()}if(2&e){var r=l.Zb(3);l.Ab(2),l.fc("ngModel",r.labelSelected.name),l.Ab(5),l.fc("ngModel",r.labelSelected.color)}}function I(e,t){if(1&e&&(l.Pb(0,"div",9),l.Pb(1,"div",10),l.xc(2,y,2,1,"div",20),l.xc(3,O,2,1,"div",21),l.xc(4,P,7,4,"ul",22),l.Ob(),l.xc(5,S,4,3,"div",23),l.xc(6,k,8,1,"div",23),l.xc(7,C,10,2,"div",23),l.Ob()),2&e){var n=l.Zb(2);l.Ab(2),l.fc("ngIf",n.projectSelected),l.Ab(1),l.fc("ngIf",n.labelSelected),l.Ab(1),l.fc("ngIf",n.projectSelected),l.Ab(1),l.fc("ngIf","columns"===n.projectTab&&n.projectSelected&&n.projectSelected.columns),l.Ab(1),l.fc("ngIf","options"===n.projectTab&&n.projectSelected),l.Ab(1),l.fc("ngIf",n.labelSelected)}}function Z(e,t){if(1&e){var n=l.Qb();l.Pb(0,"div",2),l.Pb(1,"div",8),l.Pb(2,"div",9),l.Pb(3,"div",10),l.zc(4,"Projects"),l.Ob(),l.xc(5,v,2,1,"ul",11),l.Pb(6,"div",5),l.Pb(7,"app-form-add",12),l.Xb("save",(function(e){return l.rc(n),l.Zb().addProject(e)})),l.Ob(),l.Ob(),l.Ob(),l.Pb(8,"div",13),l.Pb(9,"div",10),l.zc(10,"Labels"),l.Ob(),l.xc(11,h,2,1,"ul",11),l.Pb(12,"div",5),l.Pb(13,"app-form-add",14),l.Xb("save",(function(e){return l.rc(n),l.Zb().addLabel(e)})),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(14,"div",15),l.xc(15,I,8,6,"div",16),l.Ob(),l.Ob()}if(2&e){var r=l.Zb();l.Ab(5),l.fc("ngIf",r.projects),l.Ab(2),l.fc("margin",!1),l.Ab(4),l.fc("ngIf",r.labels),l.Ab(2),l.fc("margin",!1),l.Ab(2),l.fc("ngIf",r.projectSelected||r.labelSelected)}}var w,z=((w=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.api=n,this.router=r,this.projectTab="columns"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.api.getOrganization(t.id).subscribe((function(t){e.organization=t})),e.api.getLabels(t.id).subscribe((function(t){e.labels=t})),e.api.getProjects(t.id).subscribe((function(n){e.projects=n,e.projectSelected=e.projects[0],e.api.getColumns(t.id).subscribe((function(t){var n,r=_createForOfIteratorHelper(e.projects);try{var c=function(){var e=n.value;e.columns=t.filter((function(t){return t.project===e.id}))};for(r.s();!(n=r.n()).done;)c()}catch(i){r.e(i)}finally{r.f()}}))}))}))}},{key:"addProject",value:function(e){var t=this;this.api.createProject(this.organization.id,e).subscribe((function(e){e.columns=[],t.projects.push(e)}))}},{key:"updateProject",value:function(){this.api.updateProject(this.projectSelected.id,{name:this.projectSelected.name,organization:this.organization.id}).subscribe((function(e){}))}},{key:"deleteProject",value:function(){var e=this;confirm("Are you sure you want to delete this project?")&&this.api.deleteProject(this.projectSelected.id).subscribe((function(){var t=e.projects.indexOf(e.projectSelected);e.projects.splice(t,1),e.projectSelected=e.projects[0]}))}},{key:"addLabel",value:function(e){var t=this;this.api.createLabel(this.organization.id,e).subscribe((function(e){t.labels.push(e)}))}},{key:"addColumn",value:function(e){var t=this;this.api.createColumn({project:this.projectSelected.id,name:e}).subscribe((function(e){t.projectSelected.columns.push(e)}))}},{key:"deleteColumn",value:function(e){var t=this;confirm("Are you sure you want to delete this column?")&&this.api.deleteColumn(e.id).subscribe((function(){var n=t.projectSelected.columns.indexOf(e);t.projectSelected.columns.splice(n,1)}))}},{key:"updateColumns",value:function(){var e,t=_createForOfIteratorHelper(this.projectSelected.columns);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.api.updateColumn(n.id,{name:n.name}).subscribe((function(e){n=e}))}}catch(r){t.e(r)}finally{t.f()}}},{key:"updateLabel",value:function(e){this.api.updateLabel(e.id,{name:e.name,color:e.color}).subscribe((function(t){e=t}))}},{key:"deleteLabel",value:function(e){var t=this;confirm("Are you sure you want to delete this label?")&&this.api.deleteLabel(e.id).subscribe((function(){var n=t.labels.findIndex((function(t){return t.id===e.id}));t.labels.splice(n,1),t.labelSelected=null}))}}]),e}()).\u0275fac=function(e){return new(e||w)(l.Mb(a.a),l.Mb(s.a),l.Mb(a.c))},w.\u0275cmp=l.Gb({type:w,selectors:[["app-settings"]],decls:3,vars:2,consts:[[1,"container","py-5"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-lg-8","mb-3"],[1,"card","bg-light"],[1,"card-body"],[1,"float-right",3,"routerLink"],["icon","arrow-circle-right"],[1,"col-lg-3","my-3"],[1,"card"],[1,"card-header"],["class","list-group list-group-flush pointer",4,"ngIf"],["name","project",3,"margin","save"],[1,"card","mt-3"],["name","label",3,"margin","save"],[1,"col-lg-5","my-3"],["class","card",4,"ngIf"],[1,"list-group","list-group-flush","pointer"],["class","list-group-item",3,"active","click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],["class","mb-3",4,"ngIf"],[4,"ngIf"],["class","nav nav-tabs card-header-tabs",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"mb-3"],[1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],[1,"nav-link","pointer",3,"click"],["class","form-group input-group",4,"ngFor","ngForOf"],["name","column",3,"margin","save"],["class","btn btn-block btn-primary",3,"click",4,"ngIf"],[1,"form-group","input-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-secondary",3,"click"],["icon","trash"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"form-group"],["type","color",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block",3,"click"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.xc(1,p,11,5,"div",1),l.xc(2,Z,16,5,"div",1),l.Ob()),2&e&&(l.Ab(1),l.fc("ngIf",t.organization),l.Ab(1),l.fc("ngIf",t.projects))},directives:[i.l,a.d,b.a,f,i.k,o.b,o.l,o.o],styles:[""]}),w);n.d(t,"SettingsModule",(function(){return _}));var x,X=[{path:"",component:z}],_=((x=function e(){_classCallCheck(this,e)}).\u0275mod=l.Kb({type:x}),x.\u0275inj=l.Jb({factory:function(e){return new(e||x)},imports:[[i.c,a.e.forChild(X),b.b,u,o.h]]}),x)}}]);