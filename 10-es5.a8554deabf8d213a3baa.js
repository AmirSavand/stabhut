function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{SSly:function(n,t,e){"use strict";e.r(t);var i=e("8Y7J"),l=e("lRx4"),a=e("H+bZ"),r=e("iInd"),u=function(){function n(t,e,i,l){_classCallCheck(this,n),this.api=t,this.organizationService=e,this.router=i,this.route=l}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.loadOrganization(),this.router.events.subscribe((function(t){t instanceof r.d&&n.loadOrganization()}))}},{key:"loadOrganization",value:function(){var n=this,t=Number(location.pathname.split("/organization/")[1].split("/")[0]);t&&(!this.organization||this.organization&&this.organization.id!==t)&&this.api.getOrganization(t).subscribe((function(t){n.organization=t,l.a.currentOrganization=n.organization,n.organizationService.initialise()}))}}]),n}(),o=function(){return e.e(8).then(e.bind(null,"fNWq")).then((function(n){return n.HomeModuleNgFactory}))},c=function(){return e.e(12).then(e.bind(null,"Y5kk")).then((function(n){return n.NewModuleNgFactory}))},s=function(){return Promise.all([e.e(2),e.e(7)]).then(e.bind(null,"Wsce")).then((function(n){return n.CardModuleNgFactory}))},b=function(){return e.e(9).then(e.bind(null,"OFhr")).then((function(n){return n.SettingsModuleNgFactory}))},f=function(){return Promise.all([e.e(2),e.e(11)]).then(e.bind(null,"8F0Q")).then((function(n){return n.ProjectModuleNgFactory}))},h=function n(){_classCallCheck(this,n)},d=e("pMnS"),p=i.ob({encapsulation:0,styles:[[""]],data:{}});function g(n){return i.Mb(0,[(n()(),i.qb(0,0,null,null,2,"div",[["class","h-100"]],null,null,null,null,null)),(n()(),i.qb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.pb(2,212992,null,0,r.o,[r.b,i.M,i.j,[8,null],i.h],null,null)],(function(n,t){n(t,2,0)}),null)}var j=i.mb("app-organization",u,(function(n){return i.Mb(0,[(n()(),i.qb(0,0,null,null,1,"app-organization",[],null,null,null,g,p)),i.pb(1,114688,null,0,u,[a.a,l.a,r.l,r.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),v=e("SVse"),S=e("s7LF"),z=e("Nv++");e.d(t,"OrganizationModuleNgFactory",(function(){return y}));var y=i.nb(h,[],(function(n){return i.zb([i.Ab(512,i.j,i.Y,[[8,[d.a,j]],[3,i.j],i.v]),i.Ab(4608,v.m,v.l,[i.s,[2,v.y]]),i.Ab(4608,S.x,S.x,[]),i.Ab(1073742336,v.b,v.b,[]),i.Ab(1073742336,r.n,r.n,[[2,r.s],[2,r.l]]),i.Ab(1073742336,z.f,z.f,[]),i.Ab(1073742336,S.w,S.w,[]),i.Ab(1073742336,S.j,S.j,[]),i.Ab(1073742336,h,h,[]),i.Ab(1024,r.j,(function(){return[[{path:"",component:u,children:[{path:"home",loadChildren:o},{path:"new",loadChildren:c},{path:":id/card/:card",loadChildren:s},{path:":id/settings",loadChildren:b},{path:":id",loadChildren:f},{path:"**",redirectTo:"home",pathMatch:"full"}]}]]}),[])])}))},lRx4:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("H+bZ"),l=e("2Vo4"),a=e("8Y7J"),r=function(){var n=function(){function n(t){_classCallCheck(this,n),this.api=t}return _createClass(n,[{key:"initialise",value:function(){this.api.getProjects(n.currentOrganization.id).subscribe((function(t){n.projectsSubject.next(t)})),this.api.getLabels(n.currentOrganization.id).subscribe((function(t){n.labelsSubject.next(t)})),this.api.getUsers().subscribe((function(t){n.usersSubject.next(t.results)}))}}],[{key:"currentOrganization",get:function(){return n.organizationSubject.getValue()},set:function(t){n.projectsSubject.next(null),n.labelsSubject.next(null),n.usersSubject.next(null),n.organizationSubject.next(t)}},{key:"isInitialised",get:function(){return Boolean(n.usersSubject.value&&n.labelsSubject.value&&n.projectsSubject.value)}}]),n}();return n.organizationSubject=new l.a(null),n.projectsSubject=new l.a(null),n.labelsSubject=new l.a(null),n.usersSubject=new l.a(null),n.organization=n.organizationSubject.asObservable(),n.projects=n.projectsSubject.asObservable(),n.labels=n.labelsSubject.asObservable(),n.users=n.usersSubject.asObservable(),n.ngInjectableDef=a.Qb({factory:function(){return new n(a.Rb(i.a))},token:n,providedIn:"root"}),n}()}}]);