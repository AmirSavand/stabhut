(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{SSly:function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),a=t("lRx4"),u=t("H+bZ");class i{constructor(n,e){this.api=n,this.organizationService=e}ngOnInit(){const n=Number(location.pathname.split("/organization/")[1].split("/")[0]);n&&this.api.getOrganization(n).subscribe(n=>{a.a.currentOrganization=n,this.organizationService.initialise()})}}const r=()=>t.e(8).then(t.bind(null,"fNWq")).then(n=>n.HomeModuleNgFactory),o=()=>t.e(12).then(t.bind(null,"Y5kk")).then(n=>n.NewModuleNgFactory),s=()=>Promise.all([t.e(2),t.e(7)]).then(t.bind(null,"Wsce")).then(n=>n.CardModuleNgFactory),c=()=>t.e(9).then(t.bind(null,"OFhr")).then(n=>n.SettingsModuleNgFactory),b=()=>Promise.all([t.e(2),t.e(11)]).then(t.bind(null,"8F0Q")).then(n=>n.ProjectModuleNgFactory);class d{}var h=t("pMnS"),p=t("iInd"),g=l.ob({encapsulation:0,styles:[[""]],data:{}});function j(n){return l.Mb(0,[(n()(),l.qb(0,0,null,null,2,"div",[["class","h-100"]],null,null,null,null,null)),(n()(),l.qb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.pb(2,212992,null,0,p.n,[p.b,l.M,l.j,[8,null],l.h],null,null)],(function(n,e){n(e,2,0)}),null)}function S(n){return l.Mb(0,[(n()(),l.qb(0,0,null,null,1,"app-organization",[],null,null,null,j,g)),l.pb(1,114688,null,0,i,[u.a,a.a],null,null)],(function(n,e){n(e,1,0)}),null)}var v=l.mb("app-organization",i,S,{},{},[]),z=t("SVse"),f=t("s7LF"),w=t("Nv++");t.d(e,"OrganizationModuleNgFactory",(function(){return O}));var O=l.nb(d,[],(function(n){return l.zb([l.Ab(512,l.j,l.Y,[[8,[h.a,v]],[3,l.j],l.v]),l.Ab(4608,z.m,z.l,[l.s,[2,z.y]]),l.Ab(4608,f.x,f.x,[]),l.Ab(1073742336,z.b,z.b,[]),l.Ab(1073742336,p.m,p.m,[[2,p.r],[2,p.k]]),l.Ab(1073742336,w.f,w.f,[]),l.Ab(1073742336,f.w,f.w,[]),l.Ab(1073742336,f.j,f.j,[]),l.Ab(1073742336,d,d,[]),l.Ab(1024,p.i,(function(){return[[{path:"",component:i,children:[{path:"home",loadChildren:r},{path:"new",loadChildren:o},{path:":id/card/:card",loadChildren:s},{path:":id/settings",loadChildren:c},{path:":id",loadChildren:b},{path:"**",redirectTo:"home",pathMatch:"full"}]}]]}),[])])}))},lRx4:function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));var l=t("H+bZ"),a=t("2Vo4"),u=t("8Y7J");let i=(()=>{class n{constructor(n){this.api=n}static get currentOrganization(){return n.organizationSubject.getValue()}static set currentOrganization(e){n.projectsSubject.next(null),n.labelsSubject.next(null),n.usersSubject.next(null),n.organizationSubject.next(e)}static get isInitialised(){return Boolean(n.usersSubject.value&&n.labelsSubject.value&&n.projectsSubject.value)}initialise(){this.api.getProjects(n.currentOrganization.id).subscribe(e=>{n.projectsSubject.next(e)}),this.api.getLabels(n.currentOrganization.id).subscribe(e=>{n.labelsSubject.next(e)}),this.api.getUsers().subscribe(e=>{n.usersSubject.next(e.results)})}}return n.organizationSubject=new a.a(null),n.projectsSubject=new a.a(null),n.labelsSubject=new a.a(null),n.usersSubject=new a.a(null),n.organization=n.organizationSubject.asObservable(),n.projects=n.projectsSubject.asObservable(),n.labels=n.labelsSubject.asObservable(),n.users=n.usersSubject.asObservable(),n.ngInjectableDef=u.Qb({factory:function(){return new n(u.Rb(l.a))},token:n,providedIn:"root"}),n})()}}]);